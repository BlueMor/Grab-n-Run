<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_72) on Mon Nov 17 01:10:04 CET 2014 -->
<title>SecureDexClassLoader</title>
<meta name="date" content="2014-11-17">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SecureDexClassLoader";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../it/necst/grabnrun/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SecureDexClassLoader.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../it/necst/grabnrun/SecureLoaderFactory.html" title="class in it.necst.grabnrun"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?it/necst/grabnrun/SecureDexClassLoader.html" target="_top">Frames</a></li>
<li><a href="SecureDexClassLoader.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">it.necst.grabnrun</div>
<h2 title="Class SecureDexClassLoader" class="title">Class SecureDexClassLoader</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://d.android.com/reference/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>it.necst.grabnrun.SecureDexClassLoader</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">SecureDexClassLoader</span>
extends <a href="http://d.android.com/reference/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">A class that provides an extension of default <code>DexClassLoader</code> 
 provided by the Android system and it is used to load classes 
 from jar and apk container files including a classes.dex entry in a secure way.
 
 In order to instantiate this class a call to the method createDexClassLoader
 from a <a href="../../../it/necst/grabnrun/SecureLoaderFactory.html" title="class in it.necst.grabnrun"><code>SecureLoaderFactory</code></a> object must be performed.
 
 <a href="../../../it/necst/grabnrun/SecureDexClassLoader.html" title="class in it.necst.grabnrun"><code>SecureDexClassLoader</code></a> ensures integrity of loaded external remote 
 classes by comparing them with the developer certificate, which
 is retrieved either by a provided associative map between package names 
 and certificate remote URL or by simply reverting the 
 first two words of the package name of the loaded class and then 
 by adding each following word in the same order and separated by 
 a slash "/".
 
 Package name reversion example:
 Class name = it.necst.grabnrun.example.TestClassImpl
 Constructed URL = https://necst.it/grabnrun/example
 Final certificate location = https://necst.it/grabnrun/example/certificate.pem
 
 A request is pointed to the final certificate location and if 
 the file is found, it is imported in the local private 
 application directory.
 
 Please note that in the current implementation certificates obtained 
 by reverting package name must have been saved at the described 
 location as "certificate.pem". Moreover all the certificates must 
 fit requirements of a standard X.509 certificate, they must 
 be valid in the current time frame and of course they must have been 
 used to sign the jar or apk, which contains the classes to be loaded.
 
 If any of these previous requirements is violated no class is loaded 
 and this class immediately returns without executing any class code 
 loading operation.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Luca Falsina</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://d.android.com/reference/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;?&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../it/necst/grabnrun/SecureDexClassLoader.html#loadClass(java.lang.String)">loadClass</a></strong>(<a href="http://d.android.com/reference/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;className)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../it/necst/grabnrun/SecureDexClassLoader.html#wipeOutPrivateAppCachedData(boolean,%20boolean)">wipeOutPrivateAppCachedData</a></strong>(boolean&nbsp;containerPrivateFolder,
                           boolean&nbsp;certificatePrivateFolder)</code>
<div class="block">Sometimes it may be useful to remove those data that have been cached in 
 the private application folder (basically for performance reason or for saving 
 disk space on the device).</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://d.android.com/reference/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://d.android.com/reference/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://d.android.com/reference/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://d.android.com/reference/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://d.android.com/reference/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://d.android.com/reference/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://d.android.com/reference/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://d.android.com/reference/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://d.android.com/reference/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://d.android.com/reference/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="loadClass(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadClass</h4>
<pre>public&nbsp;<a href="http://d.android.com/reference/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;?&gt;&nbsp;loadClass(<a href="http://d.android.com/reference/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;className)
                   throws <a href="http://d.android.com/reference/java/lang/ClassNotFoundException.html?is-external=true" title="class or interface in java.lang">ClassNotFoundException</a></pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>className</code> - the full class name to load. It must fit the format "package name + . + class name".
  A valid full class name is for example "it.polimi.myapplication.classA"; while "classA" is not
  enough since it misses the package name and so <a href="../../../it/necst/grabnrun/SecureDexClassLoader.html" title="class in it.necst.grabnrun"><code>SecureDexClassLoader</code></a> will not find any
  class to load.</dd>
<dt><span class="strong">Returns:</span></dt><dd>either a class that needs to be casted at runtime accordingly to className if the verification
  process succeeds or a <code>null</code> pointer in case that at least one of the security
  constraints for secure dynamic class loading is violated.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://d.android.com/reference/java/lang/ClassNotFoundException.html?is-external=true" title="class or interface in java.lang">ClassNotFoundException</a></code> - this exception is raised whenever no security constraint is violated but still the target class is
  not found in any of the available containers used to instantiate this <a href="../../../it/necst/grabnrun/SecureDexClassLoader.html" title="class in it.necst.grabnrun"><code>SecureDexClassLoader</code></a> object.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="http://d.android.com/reference/java/lang/ClassLoader.html?is-external=true#loadClass(java.lang.String)" title="class or interface in java.lang"><code>ClassLoader.loadClass(java.lang.String)</code></a></dd></dl>
</li>
</ul>
<a name="wipeOutPrivateAppCachedData(boolean, boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>wipeOutPrivateAppCachedData</h4>
<pre>public&nbsp;void&nbsp;wipeOutPrivateAppCachedData(boolean&nbsp;containerPrivateFolder,
                               boolean&nbsp;certificatePrivateFolder)</pre>
<div class="block">Sometimes it may be useful to remove those data that have been cached in 
 the private application folder (basically for performance reason or for saving 
 disk space on the device). A call to this method solves the issue.
 
 Please notice that a call to this method with both the parameters set to false 
 has no effect.
 
 In any of the other cases the content of the related folder(s) will be erased and 
 since some of the data may have been used by <a href="../../../it/necst/grabnrun/SecureDexClassLoader.html" title="class in it.necst.grabnrun"><code>SecureDexClassLoader</code></a> instances, it is 
 required to the caller to create a new <a href="../../../it/necst/grabnrun/SecureDexClassLoader.html" title="class in it.necst.grabnrun"><code>SecureDexClassLoader</code></a> object through 
 <a href="../../../it/necst/grabnrun/SecureLoaderFactory.html" title="class in it.necst.grabnrun"><code>SecureLoaderFactory</code></a> since the already present object is going to be disabled 
 from loading classes dynamically.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>containerPrivateFolder</code> - if the private folder containing jar and apk containers downloaded from remote URL needs to be wiped out</dd><dd><code>certificatePrivateFolder</code> - if the private folder containing certificates needs to be wiped out</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../it/necst/grabnrun/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SecureDexClassLoader.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../it/necst/grabnrun/SecureLoaderFactory.html" title="class in it.necst.grabnrun"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?it/necst/grabnrun/SecureDexClassLoader.html" target="_top">Frames</a></li>
<li><a href="SecureDexClassLoader.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
